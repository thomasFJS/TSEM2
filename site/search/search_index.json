{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"cdc/","text":"Cahier des charges Sujet Cr\u00e9er une application WEB regroupant des clients et des coachs de sport pouvant r\u00e9cup\u00e9rer des donn\u00e9es d'entrainements directement depuis un appareil connect\u00e9 Polar But du projet Le but du projet est de cr\u00e9er une plateforme WEB regroupant pratiquants et coachs afin de g\u00e9rer une salle de sport et le suivi des pratiquants. Les donn\u00e9es d'entrainements suivantes sont r\u00e9cup\u00e9r\u00e9es depuis une smartwatch Polar: Pulsation cardiaque (Repos/Actif/Apr\u00e8s effort) Le type d'exercice effectu\u00e9 Date et dur\u00e9e de l'entrainement Nombre de total de calories brul\u00e9es Nombre de calories active (Optionnel) Les donn\u00e9es relatives au sommeil Pulsation cardiaque Cycles de sommeil Interruption Hypnogramme Il y a \u00e9galement un syst\u00e8me de badging pour savoir quand le pratiquant commence et mets fin \u00e0 son entrainement. Utilisation La plateforme Web permet de s'enregistrer soit en tant que pratiquant, soit en tant que coach. En tant que clients : L'ID utilisateur Polar doit \u00eatre renseign\u00e9 lors de l'inscription. Une fois le compte cr\u00e9\u00e9, on dispose d'une page profil avec plusieurs donn\u00e9es d'entrainement, quelques graphiques pour les illustrer permettant d'observer la progression au fur et \u00e0 mesure du temps. Lorsqu'un compte client est cr\u00e9\u00e9, une carte RFID lui est attribu\u00e9e afin de badger le d\u00e9but et la fin d'un entrainement. Une fois la fin de l'entrainement badg\u00e9, l'API Accesslink Polar permettra de r\u00e9cup\u00e9rer les donn\u00e9es de la s\u00e9ance achev\u00e9e. Le profil du client sera mis \u00e0 jour automatiquement. 2 onglets sont \u00e9galement disponibles \"Entrainements\" et \"Di\u00e8te\" qui comporteront les programmes d'entrainements et de nutritions du client. En tant que coach : Une fois connect\u00e9, on dispose d'une page avec la liste de tous les pratiquants dont on a la charge. On peut ajouter un pratiquant en le recherchant par son nom, en cliquant sur le bouton \"ajouter\" un mail de confirmation sera envoy\u00e9 au client concern\u00e9 pour valider la prise en charge. Le coach peut uploader un fichier (.csv/.xls) pour les programmes et la di\u00e8te sur le profil de ses pratiquants pour leur transmettre directement depuis l'application, lors de la mise \u00e0 jour du programme d'un pratiquant, celui-ci re\u00e7oit un mail pour le pr\u00e9venir. Un fichier \"Template\" pour conserver un format commun entre coachs sera disponible sur la page d'accueil, si le format mit \u00e0 disposition n'est pas respect\u00e9 le fichier ne sera pas pris en compte. Sp\u00e9cifications Les donn\u00e9es d'entrainements sont r\u00e9cup\u00e9r\u00e9es avec l'API Accesslink de Polar en Python sous forme d'objet, elles sont v\u00e9rifi\u00e9es et stock\u00e9es directement dans la base de donn\u00e9es Le syst\u00e8me de badge fonctionne \u00e0 l'aide de cartes RFID et un lecteur NFC (ACS ACR 122u) Les graphiques li\u00e9s aux stats sont effectu\u00e9s avec la librairie javascript Chart.js Les programmes d'entrainements et de nutritions doivent respecter le format propos\u00e9 (Lors de l'upload une v\u00e9rification est effectu\u00e9e) Un syst\u00e8me de notification est mis en place pour avertir les utilisateurs des diff\u00e9rents \u00e9v\u00e9nements Restrictions Pour l'instant, il est uniquement possible d'utiliser des appareils Polar pour les donn\u00e9es d'entrainement. Le syst\u00e8me de badge est utilis\u00e9 au d\u00e9but et \u00e0 la fin et non pendant l'entrainement. L'API accepte au maximum 500 requ\u00eate pour 20 utilisateurs diff\u00e9rents en 15 min et 5000 pour 100 utilisateurs en 24h Les montres utilis\u00e9es lors des entrainements sont celles du coach (montres d\u00e9j\u00e0 enregistrer sur le client qui acc\u00e8de \u00e0 l'API) Environnement Technologies utilis\u00e9es : HTML5 CSS3 Javascript SQL Python Flask (Micro Framework Python) Lecteur NFC (ACS ACR122U) API AccessLink Polar Chart.js Syst\u00e8me d'exploitation : D\u00e9veloppement sur Windows Versionning / Documentation : GitHub MarkDown (Mkdocs) Livrable Fichier zip contenant le projet + bdd Documentation technique et journal de bord au format PDF","title":"Cahier des charges"},{"location":"cdc/#cahier-des-charges","text":"","title":"Cahier des charges"},{"location":"cdc/#sujet","text":"Cr\u00e9er une application WEB regroupant des clients et des coachs de sport pouvant r\u00e9cup\u00e9rer des donn\u00e9es d'entrainements directement depuis un appareil connect\u00e9 Polar","title":"Sujet"},{"location":"cdc/#but-du-projet","text":"Le but du projet est de cr\u00e9er une plateforme WEB regroupant pratiquants et coachs afin de g\u00e9rer une salle de sport et le suivi des pratiquants. Les donn\u00e9es d'entrainements suivantes sont r\u00e9cup\u00e9r\u00e9es depuis une smartwatch Polar: Pulsation cardiaque (Repos/Actif/Apr\u00e8s effort) Le type d'exercice effectu\u00e9 Date et dur\u00e9e de l'entrainement Nombre de total de calories brul\u00e9es Nombre de calories active (Optionnel) Les donn\u00e9es relatives au sommeil Pulsation cardiaque Cycles de sommeil Interruption Hypnogramme Il y a \u00e9galement un syst\u00e8me de badging pour savoir quand le pratiquant commence et mets fin \u00e0 son entrainement.","title":"But du projet"},{"location":"cdc/#utilisation","text":"La plateforme Web permet de s'enregistrer soit en tant que pratiquant, soit en tant que coach. En tant que clients : L'ID utilisateur Polar doit \u00eatre renseign\u00e9 lors de l'inscription. Une fois le compte cr\u00e9\u00e9, on dispose d'une page profil avec plusieurs donn\u00e9es d'entrainement, quelques graphiques pour les illustrer permettant d'observer la progression au fur et \u00e0 mesure du temps. Lorsqu'un compte client est cr\u00e9\u00e9, une carte RFID lui est attribu\u00e9e afin de badger le d\u00e9but et la fin d'un entrainement. Une fois la fin de l'entrainement badg\u00e9, l'API Accesslink Polar permettra de r\u00e9cup\u00e9rer les donn\u00e9es de la s\u00e9ance achev\u00e9e. Le profil du client sera mis \u00e0 jour automatiquement. 2 onglets sont \u00e9galement disponibles \"Entrainements\" et \"Di\u00e8te\" qui comporteront les programmes d'entrainements et de nutritions du client. En tant que coach : Une fois connect\u00e9, on dispose d'une page avec la liste de tous les pratiquants dont on a la charge. On peut ajouter un pratiquant en le recherchant par son nom, en cliquant sur le bouton \"ajouter\" un mail de confirmation sera envoy\u00e9 au client concern\u00e9 pour valider la prise en charge. Le coach peut uploader un fichier (.csv/.xls) pour les programmes et la di\u00e8te sur le profil de ses pratiquants pour leur transmettre directement depuis l'application, lors de la mise \u00e0 jour du programme d'un pratiquant, celui-ci re\u00e7oit un mail pour le pr\u00e9venir. Un fichier \"Template\" pour conserver un format commun entre coachs sera disponible sur la page d'accueil, si le format mit \u00e0 disposition n'est pas respect\u00e9 le fichier ne sera pas pris en compte.","title":"Utilisation"},{"location":"cdc/#specifications","text":"Les donn\u00e9es d'entrainements sont r\u00e9cup\u00e9r\u00e9es avec l'API Accesslink de Polar en Python sous forme d'objet, elles sont v\u00e9rifi\u00e9es et stock\u00e9es directement dans la base de donn\u00e9es Le syst\u00e8me de badge fonctionne \u00e0 l'aide de cartes RFID et un lecteur NFC (ACS ACR 122u) Les graphiques li\u00e9s aux stats sont effectu\u00e9s avec la librairie javascript Chart.js Les programmes d'entrainements et de nutritions doivent respecter le format propos\u00e9 (Lors de l'upload une v\u00e9rification est effectu\u00e9e) Un syst\u00e8me de notification est mis en place pour avertir les utilisateurs des diff\u00e9rents \u00e9v\u00e9nements","title":"Sp\u00e9cifications"},{"location":"cdc/#restrictions","text":"Pour l'instant, il est uniquement possible d'utiliser des appareils Polar pour les donn\u00e9es d'entrainement. Le syst\u00e8me de badge est utilis\u00e9 au d\u00e9but et \u00e0 la fin et non pendant l'entrainement. L'API accepte au maximum 500 requ\u00eate pour 20 utilisateurs diff\u00e9rents en 15 min et 5000 pour 100 utilisateurs en 24h Les montres utilis\u00e9es lors des entrainements sont celles du coach (montres d\u00e9j\u00e0 enregistrer sur le client qui acc\u00e8de \u00e0 l'API)","title":"Restrictions"},{"location":"cdc/#environnement","text":"Technologies utilis\u00e9es : HTML5 CSS3 Javascript SQL Python Flask (Micro Framework Python) Lecteur NFC (ACS ACR122U) API AccessLink Polar Chart.js Syst\u00e8me d'exploitation : D\u00e9veloppement sur Windows Versionning / Documentation : GitHub MarkDown (Mkdocs)","title":"Environnement"},{"location":"cdc/#livrable","text":"Fichier zip contenant le projet + bdd Documentation technique et journal de bord au format PDF","title":"Livrable"},{"location":"documentation/","text":"Documentation technique Rappel du cahier des charges Introduction Dans le cadre du 2\u00e8me travail de semestre, j'ai d\u00e9cid\u00e9 d'effectuer un projet qui me sera tr\u00e8s utile pour le travail de dipl\u00f4me. L'id\u00e9e serait de faire une application en python qui r\u00e9cup\u00e8re des donn\u00e9es d'entrainement avec l'API Polar en fonction de la carte RFID qui est d\u00e9tect\u00e9. But du projet Le but de ce projet est de me pr\u00e9parer au maximum pour le travail de dipl\u00f4me. C'est pour cela que j'ai d\u00e9cid\u00e9 de mettre ensemble 2 technologies que je n'ai pas encore beaucoup utilis\u00e9 et qui sont essentielles pour mon travail de dipl\u00f4me. Pour ce projet, uniquement les scripts python permettant de traiter les donn\u00e9es voulues seront effectu\u00e9s. La partie interface de l'application finale est r\u00e9alis\u00e9e dans le cadre d'un autre cours. Contraintes techniques Je dois utiliser un lecteur de carte \u00e0 puce et l'API Polar Accesslink pour r\u00e9cup\u00e9rer les donn\u00e9es d'entrainements. Analyse Technologies Python Markdown Github (versionning, task manager) Ordinateur de type PC, 2 \u00e9crans Visual Studio Code Mkdocs (Documentation) NFC Reader ACR122U Polar Accesslink API NFC Reader ACR122U Le lecteur NFC ACR122U est un appareil permettant de lire et d'\u00e9crire sur des cartes sans contact. Il est bas\u00e9 sur la technologie Mifare 13,56 MHz (RFID) et suit les standards de la norme ISO 18092. L'ACR122U est d\u00e9velopp\u00e9 et vendu par ACS ltd . Pour pouvoir utiliser ce lecteur, j'ai utilis\u00e9 la librairie pyscard qui me permet de r\u00e9cup\u00e9rer les infos des cartes \u00e0 puces que le lecteur lit RFID Qu'est-ce que la technologie RFID ?? RFID (Radio Frequency Identification), est une technologie qui permet d'enregistrer des donn\u00e9es sur un support et de les r\u00e9cup\u00e9rer \u00e0 distance. Elle est apparue dans les ann\u00e9es 1940 et \u00e9tait utilis\u00e9e uniquement par l'arm\u00e9e pour l'identification des avions de guerre qui entrait dans l'espace a\u00e9rien du Royaume-Uni. Elle s'est ensuite r\u00e9pandue dans diff\u00e9rents secteurs industriels \u00e0 partir des ann\u00e9es 1980. Comment fonctionne la RFID ? Les \u00e9tiquettes RFID, sont compos\u00e9es d'une puce RFID et d'une antenne et sont coll\u00e9es sur un produit. Elles enregistrent les donn\u00e9es et avec un lecteur \u00e9lectromagn\u00e9tique on peut ensuite lire les ondes radio pr\u00e9sentes sur la puce RFID gr\u00e2ce \u00e0 l'antenne. Pourquoi utiliser RFID RFID est un syst\u00e8me de tra\u00e7abilit\u00e9. A l'aide d'une seule puce, il est possible de tracer les produits pendant tout le processus de production, de transport et de distribution, voire m\u00eame jusqu'\u00e0 leur fin de vie. Dans le cadre de mon projet, RFID est une solution ad\u00e9quate pour g\u00e9rer les entr\u00e9es/sorties des clients dans la salle d'entrainement. Diff\u00e9rences entre RFID et NFC Dans le cadre de mon projet, j'utilise parfois le terme NFC. La technologie NFC (Near Field Communication) est un d\u00e9riv\u00e9 de la RFID qui a commenc\u00e9 \u00e0 \u00eatre utilis\u00e9 d\u00e8s 2011. Le NFC repose sur le m\u00eame concept que la RFID. C'est une technologie qui fonctionne avec une puce permettant d'\u00e9changer des donn\u00e9es entre un lecteur et n'importe quel terminal avec un simple rapprochement ou contact entre les deux objets. La communication sans fil ne fonctionne qu'\u00e0 courte port\u00e9e et haute fr\u00e9quence, une distance d'environ 10cm. La technologie NFC se retrouve dans la plupart des smartphones, consoles de jeux ou cartes bancaires. Le lecteur de carte que j'utilise fonctionne \u00e0 l'aide de cette technologie \u00e9galement. Les principales diff\u00e9rences entre RFID et NFC r\u00e9sident dans la port\u00e9e plus courte et s\u00e9curis\u00e9e pour NFC (10cm) contre jusqu'\u00e0 10m pour RFID. La technologie NFC peut transmettre toute sorte de donn\u00e9es contre RFID qui ne transmet que l'ID. La lecture fait, quant \u00e0 elle, d\u00e9faut \u00e0 la technologie NFC qui ne peut lire qu'une puce \u00e0 la fois ce qui peut limiter ses cas d'utilisation. Pyscard - Librairie Python Smart card Pyscard est un module python qui permet d'utiliser les cartes \u00e0 puce (PC/SC) avec python. Il donne acc\u00e8s \u00e0 plusieurs classes et fonctions donnant acc\u00e8s aux cartes et aux lecteurs. Architecture pyscard : smartcard.scard est un module d'extension enveloppant l'API WinSCard (Les composants de base smartcard) aussi connue sous le nom PC/SC (Personal computer / Smart Card) smartcard est un framework Python construit \u00e0 partir de l'API PC/SC Installation Pour installer la librairie pyscard sur Windows 10, il faut au pr\u00e9alable installer SWIG et l'ajouter directement au PATH. Il faut ensuite installer Visual C++ version 14.0 ou plus r\u00e9cente (directement installable depuis le Visual Studio Installer). SWIG SWIG est un outil logiciel open source qui permet de connecter des logiciels ou librairies \u00e9crites en C/C++ avec des langages de scripts tels que : Perl , Python , Ruby , PHP ou d'autres langages de programmation comme Java ou C# . MySQL Connector/Python MySQL Connector permet aux programmes Python d'acc\u00e9der aux bases de donn\u00e9es MySQL. Je l'ai utilis\u00e9 dans mon projet, pour la v\u00e9rification des cartes de membres. Installation MySQL Connector vient directement avec l'installation de Python et peut \u00eatre import\u00e9 dans n'importe quel script avec : import mysql.connector OAuth 2.0 OAuth est un protocole libre qui permet d'autoriser un site web, logiciel ou une application \u00e0 utiliser l'API s\u00e9curis\u00e9e d'un autre site web. L'API Polar utilise notamment ce protocole pour g\u00e9rer les authentifications. Polar Accesslink API Accesslink est une API qui donne acc\u00e8s aux donn\u00e9es d'entrainement et d'activit\u00e9e journali\u00e8re enregistr\u00e9s par les appareils Polar. Pour pouvoir l'utiliser il est n\u00e9cessaire de poss\u00e9der un compte Polar Flow afin de cr\u00e9er un client sur admin.polaraccesslink.com qui nous donnera acc\u00e8s \u00e0 l'API. Accesslink utilise OAuth2 comme protocole d'authentification. Les utilisateurs enregistr\u00e9s ont besoin de s'authentifier pour pouvoir avoir acc\u00e8s aux donn\u00e9es. Fonctionnalit\u00e9s de base d'Accesslink : Fonctionnalit\u00e9 Description Utilisateurs Permets d'enregistrer, supprimer et r\u00e9cup\u00e9rer les informations de base de l'utilisateur Pull Notification Permets de v\u00e9rifier si l'utilisateur \u00e0 des donn\u00e9es disponible \u00e0 r\u00e9cup\u00e9rer Donn\u00e9e d'entrainement Permets d'acc\u00e9der aux donn\u00e9es d'entrainements de l'utilisateur Activit\u00e9 journali\u00e8re Permets d'acc\u00e9der aux donn\u00e9es de l'activit\u00e9 journali\u00e8re de l'utilisateur Info physique Permets d'acc\u00e9der aux informations physique de l'utilisateur (Ex: Taille/Poids) Mod\u00e8le de donn\u00e9es D\u00e9crit tous les objets qui transportent les donn\u00e9es entre le serveur et le client Annexes Contient des exemples et des d\u00e9tails sur l'interface de l'application Environnement de d\u00e9veloppement Pour l'environnement de d\u00e9veloppement, j'ai utilis\u00e9 Visual Studio Code. Analyse fonctionnelle Interface La partie r\u00e9alis\u00e9e lors du travail de semestre ne poss\u00e8de pas d'interface. Le programme r\u00e9cup\u00e8re et sauve certaines donn\u00e9es mais n'affiche rien. La partie \"Affichage\" de mon projet a \u00e9t\u00e9 r\u00e9alis\u00e9 dans le projet du cours PDA. Fonctionnalit\u00e9s Inscription Lors de l'inscription d'un nouveau client, il remplit un formulaire, puis une fois le formulaire remplit le coach doit scanner une carte RFID. Le lecteur va lire la carte et l'ID de la carte sera attribu\u00e9 au compte client du nouvel inscrit. Authentification L'application permet de s'authentifier \u00e0 l'aide du lecteur et d'une carte RFID. L'ID de la carte est enregistr\u00e9 dans la base de donn\u00e9es. Si l'authentification est r\u00e9ussite, l'utilisateur peut utiliser une montre Polar pour son entrainement. A la fin de l'entrainement, le client scanne sa carte RFID avant de partir. Si la carte est reconnue, l'application va chercher les derni\u00e8res donn\u00e9es d'entrainement disponible \u00e0 l'aide de l'API Polar AccessLink. Enregistrement Lorsque des donn\u00e9es d'entrainement sont r\u00e9cup\u00e9r\u00e9s suite \u00e0 la s\u00e9ance d'un client, elles sont automatiquement enregistr\u00e9es dans la base de donn\u00e9es et reli\u00e9 directement au client concern\u00e9. Cas d'utilisation A l'arriv\u00e9e d'un nouveau client, il doit s'inscrire via un formulaire. Une fois le formulaire renseign\u00e9, le coach doit scanner une nouvelle carte RFID \u00e0 l'aide du lecteur. La carte sera enregistr\u00e9e avec le compte du nouveau client en base de donn\u00e9es. Lorsqu'un client vient s'entrainer il doit s'authentifier \u00e0 l'entr\u00e9e \u00e0 l'aide de sa \"carte de membre\" (la carte RFID remise lors de l'inscription). Une fois entr\u00e9, le client peut se munir d'une des montres Polar misent \u00e0 disposition pour son entrainement. A la fin de son entrainement, juste avant de partir, le client badge \u00e0 la sortie avec sa carte. Si la carte est reconnue, les derni\u00e8res donn\u00e9es d'entrainements sont r\u00e9cup\u00e9r\u00e9es \u00e0 l'aide de l'API Polar. Toutes les donn\u00e9es voulues sont enregistr\u00e9es dans la base de donn\u00e9es et sont reli\u00e9s directement au client concern\u00e9. Analyse organique Architecture Arborescence de fichier documentation.md Fichier Markdown contenant la documentation technique du projet. logbook.md Fichier Markdown contenant le r\u00e9sum\u00e9 journalier du travail effectu\u00e9. authorization.py Script python qui permet d'authentifier un compte Polar pour avoir acc\u00e8s \u00e0 l'API Token g\u00e9n\u00e9r\u00e9 avec l'id de l'utilisateur, on essaye ensuite de l'enregistrer avec l'API accesslink pour avoir acc\u00e8s aux donn\u00e9es acesslink.py Objet python qui enveloppe toutes les fonctionnalit\u00e9es de l'API Polar Pour chaque demande effectuable avec l'API (pour le retour de diff\u00e9rente donn\u00e9e) un objet a \u00e9t\u00e9 cr\u00e9\u00e9. L'objet Accesslink r\u00e9cup\u00e8re les donn\u00e9es avec tous les endpoints qui permettent les transactions avec l'API. Il g\u00e9re \u00e9galement l'authentification pour avoir acc\u00e8s \u00e0 l'API. endpoints/daily_activity.py Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant l'activit\u00e9e journali\u00e8re, il utilise l'objet DailyActivityTransaction pour effectuer la transaction avec l'API endpoints/daily_activity_transaction.py Objet pour l'activit\u00e9e journali\u00e8re qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es. endpoints/physical_info.py Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant les informations physiques, il utilise l'objet PhysicalInfoTransaction pour effectuer la transaction avec l'API endpoints/physical_info_transaction.py Objet pour les informations physiques qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es. endpoints/training_data.py Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant les donn\u00e9es d'entrainements, il utilise l'objet TrainingDataTransaction pour effectuer la transaction avec l'API. endpoints/training_data_transaction.py Objet pour les donn\u00e9es d'entrainements qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es. Il peut r\u00e9cup\u00e9rer : La liste des exercices effectu\u00e9s Un r\u00e9sum\u00e9 des s\u00e9ances Les diff\u00e9rentes zones de rythme cardiaque Un r\u00e9sum\u00e9 des s\u00e9ances en format .gpx ou .tcx endpoints/pull_notifications Objet qui permet de r\u00e9cup\u00e9rer la liste des donn\u00e9es disponibles. endpoints/transactions.py Objet parent pour toutes les transactions qui seront effectu\u00e9es avec l'API Polar. endpoints/resource.py Objet parent qui permet de passer premi\u00e8rement par l'authentification OAuth avant d'effectuer des actions avec l'API. accesslinkTools.py Objet AccesslinkTools qui regroupe toutes les fonctionnalit\u00e9s li\u00e9es \u00e0 l'API. Il utilise les endpoints cr\u00e9\u00e9 (d\u00e9crit ci-dessus) pour effectuer les transactions et r\u00e9cup\u00e9rer les donn\u00e9es. read.py Script python qui permet de lire les donn\u00e9es sur une carte RFID. Il compare l'ID de la carte scann\u00e9e avec celles enregistr\u00e9s en base, si la carte est reconnue l'utilisateur \u00e0 acc\u00e8s aux fonctionnalit\u00e9es de l'API Polar. Attente d'une carte, une fois d\u00e9t\u00e9ct\u00e9e, la connexion est \u00e9tablie : Requ\u00eate SQL pour v\u00e9rifier si l'ID de la carte d\u00e9t\u00e9ct\u00e9e existe dans la base de donn\u00e9es, si oui l'utilisateur \u00e0 acc\u00e8s aux fonctionnalit\u00e9es Polar : config.yml Fichier YAML contenant la configuration du client pour avoir acc\u00e8s aux donn\u00e9es avec l'API Polar. Il Contient : L'id de l'utilisateur L'id du client (Pour l'acc\u00e8s) Le secret du client Le token d'acc\u00e8s (Il est g\u00e9n\u00e9r\u00e9 avec le fichier authorization.py) requirements.txt Fichier contenant toutes les librairies/modules n\u00e9cessaires pour le lancement de l'application. Pour l'utilisation : pip install -r requirements.txt mkdocs.yml Fichier YAML contenant la configuration pour Mkdocs. Conclusion Am\u00e9liorations possibles Dans le cadre du travail de semestre, j'ai totalement dissoci\u00e9 la partie donn\u00e9e avec l'utilisation de l'API Polar et du lecteur RFID de l'interface graphique. L'interface graphique permet de relier tous les diff\u00e9rents scripts que j'ai fait pour en faire une application fonctionnelle. La partie interface a \u00e9t\u00e9 faite dans le cadre du cours PDA, il faudrait donc mettre ces 2 parties ensembles. Une autre am\u00e9lioration \u00e0 explorer serait d'ouvrir l'application \u00e0 tous les types de montres connect\u00e9s. Pour le moment uniquement les montres Polar sont accept\u00e9es (\u00e0 cause de l'utilisation de l'API Polar). Il faudrait \u00e9galement regarder pour avoir la possibilit\u00e9 d'utiliser la montre du client et pas une montre mise \u00e0 disposition par le coach comme c'est le cas pour l'instant. Bilan personnel Ce projet a \u00e9t\u00e9 tr\u00e8s b\u00e9n\u00e9fique pour moi, je n'avais encore jamais utilis\u00e9 l'API Polar ou encore un lecteur NFC et j'ai maintenant \u00e0 disposition pas mal d'objet Python que je peux directement r\u00e9utiliser. J'ai rencontr\u00e9 pas mal de probl\u00e8me et \u00e7a m'a permis de pr\u00e9parer pas mal de point pour mon travail de dipl\u00f4me. J'ai trouv\u00e9 tr\u00e8s int\u00e9ressant de travailler sur ces points car ils sont essentiels pour mon travail de dipl\u00f4me et j'esp\u00e8re vraiment pouvoir avoir quelque chose de fonctionnel \u00e0 la fin.","title":"Documentation technique"},{"location":"documentation/#documentation-technique","text":"","title":"Documentation technique"},{"location":"documentation/#rappel-du-cahier-des-charges","text":"","title":"Rappel du cahier des charges"},{"location":"documentation/#introduction","text":"Dans le cadre du 2\u00e8me travail de semestre, j'ai d\u00e9cid\u00e9 d'effectuer un projet qui me sera tr\u00e8s utile pour le travail de dipl\u00f4me. L'id\u00e9e serait de faire une application en python qui r\u00e9cup\u00e8re des donn\u00e9es d'entrainement avec l'API Polar en fonction de la carte RFID qui est d\u00e9tect\u00e9.","title":"Introduction"},{"location":"documentation/#but-du-projet","text":"Le but de ce projet est de me pr\u00e9parer au maximum pour le travail de dipl\u00f4me. C'est pour cela que j'ai d\u00e9cid\u00e9 de mettre ensemble 2 technologies que je n'ai pas encore beaucoup utilis\u00e9 et qui sont essentielles pour mon travail de dipl\u00f4me. Pour ce projet, uniquement les scripts python permettant de traiter les donn\u00e9es voulues seront effectu\u00e9s. La partie interface de l'application finale est r\u00e9alis\u00e9e dans le cadre d'un autre cours.","title":"But du projet"},{"location":"documentation/#contraintes-techniques","text":"Je dois utiliser un lecteur de carte \u00e0 puce et l'API Polar Accesslink pour r\u00e9cup\u00e9rer les donn\u00e9es d'entrainements.","title":"Contraintes techniques"},{"location":"documentation/#analyse","text":"","title":"Analyse"},{"location":"documentation/#technologies","text":"Python Markdown Github (versionning, task manager) Ordinateur de type PC, 2 \u00e9crans Visual Studio Code Mkdocs (Documentation) NFC Reader ACR122U Polar Accesslink API","title":"Technologies"},{"location":"documentation/#nfc-reader-acr122u","text":"Le lecteur NFC ACR122U est un appareil permettant de lire et d'\u00e9crire sur des cartes sans contact. Il est bas\u00e9 sur la technologie Mifare 13,56 MHz (RFID) et suit les standards de la norme ISO 18092. L'ACR122U est d\u00e9velopp\u00e9 et vendu par ACS ltd . Pour pouvoir utiliser ce lecteur, j'ai utilis\u00e9 la librairie pyscard qui me permet de r\u00e9cup\u00e9rer les infos des cartes \u00e0 puces que le lecteur lit","title":"NFC Reader ACR122U"},{"location":"documentation/#rfid","text":"Qu'est-ce que la technologie RFID ?? RFID (Radio Frequency Identification), est une technologie qui permet d'enregistrer des donn\u00e9es sur un support et de les r\u00e9cup\u00e9rer \u00e0 distance. Elle est apparue dans les ann\u00e9es 1940 et \u00e9tait utilis\u00e9e uniquement par l'arm\u00e9e pour l'identification des avions de guerre qui entrait dans l'espace a\u00e9rien du Royaume-Uni. Elle s'est ensuite r\u00e9pandue dans diff\u00e9rents secteurs industriels \u00e0 partir des ann\u00e9es 1980. Comment fonctionne la RFID ? Les \u00e9tiquettes RFID, sont compos\u00e9es d'une puce RFID et d'une antenne et sont coll\u00e9es sur un produit. Elles enregistrent les donn\u00e9es et avec un lecteur \u00e9lectromagn\u00e9tique on peut ensuite lire les ondes radio pr\u00e9sentes sur la puce RFID gr\u00e2ce \u00e0 l'antenne. Pourquoi utiliser RFID RFID est un syst\u00e8me de tra\u00e7abilit\u00e9. A l'aide d'une seule puce, il est possible de tracer les produits pendant tout le processus de production, de transport et de distribution, voire m\u00eame jusqu'\u00e0 leur fin de vie. Dans le cadre de mon projet, RFID est une solution ad\u00e9quate pour g\u00e9rer les entr\u00e9es/sorties des clients dans la salle d'entrainement. Diff\u00e9rences entre RFID et NFC Dans le cadre de mon projet, j'utilise parfois le terme NFC. La technologie NFC (Near Field Communication) est un d\u00e9riv\u00e9 de la RFID qui a commenc\u00e9 \u00e0 \u00eatre utilis\u00e9 d\u00e8s 2011. Le NFC repose sur le m\u00eame concept que la RFID. C'est une technologie qui fonctionne avec une puce permettant d'\u00e9changer des donn\u00e9es entre un lecteur et n'importe quel terminal avec un simple rapprochement ou contact entre les deux objets. La communication sans fil ne fonctionne qu'\u00e0 courte port\u00e9e et haute fr\u00e9quence, une distance d'environ 10cm. La technologie NFC se retrouve dans la plupart des smartphones, consoles de jeux ou cartes bancaires. Le lecteur de carte que j'utilise fonctionne \u00e0 l'aide de cette technologie \u00e9galement. Les principales diff\u00e9rences entre RFID et NFC r\u00e9sident dans la port\u00e9e plus courte et s\u00e9curis\u00e9e pour NFC (10cm) contre jusqu'\u00e0 10m pour RFID. La technologie NFC peut transmettre toute sorte de donn\u00e9es contre RFID qui ne transmet que l'ID. La lecture fait, quant \u00e0 elle, d\u00e9faut \u00e0 la technologie NFC qui ne peut lire qu'une puce \u00e0 la fois ce qui peut limiter ses cas d'utilisation.","title":"RFID"},{"location":"documentation/#pyscard-librairie-python-smart-card","text":"Pyscard est un module python qui permet d'utiliser les cartes \u00e0 puce (PC/SC) avec python. Il donne acc\u00e8s \u00e0 plusieurs classes et fonctions donnant acc\u00e8s aux cartes et aux lecteurs. Architecture pyscard : smartcard.scard est un module d'extension enveloppant l'API WinSCard (Les composants de base smartcard) aussi connue sous le nom PC/SC (Personal computer / Smart Card) smartcard est un framework Python construit \u00e0 partir de l'API PC/SC","title":"Pyscard - Librairie Python Smart card"},{"location":"documentation/#installation","text":"Pour installer la librairie pyscard sur Windows 10, il faut au pr\u00e9alable installer SWIG et l'ajouter directement au PATH. Il faut ensuite installer Visual C++ version 14.0 ou plus r\u00e9cente (directement installable depuis le Visual Studio Installer).","title":"Installation"},{"location":"documentation/#swig","text":"SWIG est un outil logiciel open source qui permet de connecter des logiciels ou librairies \u00e9crites en C/C++ avec des langages de scripts tels que : Perl , Python , Ruby , PHP ou d'autres langages de programmation comme Java ou C# .","title":"SWIG"},{"location":"documentation/#mysql-connectorpython","text":"MySQL Connector permet aux programmes Python d'acc\u00e9der aux bases de donn\u00e9es MySQL. Je l'ai utilis\u00e9 dans mon projet, pour la v\u00e9rification des cartes de membres.","title":"MySQL Connector/Python"},{"location":"documentation/#installation_1","text":"MySQL Connector vient directement avec l'installation de Python et peut \u00eatre import\u00e9 dans n'importe quel script avec : import mysql.connector","title":"Installation"},{"location":"documentation/#oauth-20","text":"OAuth est un protocole libre qui permet d'autoriser un site web, logiciel ou une application \u00e0 utiliser l'API s\u00e9curis\u00e9e d'un autre site web. L'API Polar utilise notamment ce protocole pour g\u00e9rer les authentifications.","title":"OAuth 2.0"},{"location":"documentation/#polar-accesslink-api","text":"Accesslink est une API qui donne acc\u00e8s aux donn\u00e9es d'entrainement et d'activit\u00e9e journali\u00e8re enregistr\u00e9s par les appareils Polar. Pour pouvoir l'utiliser il est n\u00e9cessaire de poss\u00e9der un compte Polar Flow afin de cr\u00e9er un client sur admin.polaraccesslink.com qui nous donnera acc\u00e8s \u00e0 l'API. Accesslink utilise OAuth2 comme protocole d'authentification. Les utilisateurs enregistr\u00e9s ont besoin de s'authentifier pour pouvoir avoir acc\u00e8s aux donn\u00e9es. Fonctionnalit\u00e9s de base d'Accesslink : Fonctionnalit\u00e9 Description Utilisateurs Permets d'enregistrer, supprimer et r\u00e9cup\u00e9rer les informations de base de l'utilisateur Pull Notification Permets de v\u00e9rifier si l'utilisateur \u00e0 des donn\u00e9es disponible \u00e0 r\u00e9cup\u00e9rer Donn\u00e9e d'entrainement Permets d'acc\u00e9der aux donn\u00e9es d'entrainements de l'utilisateur Activit\u00e9 journali\u00e8re Permets d'acc\u00e9der aux donn\u00e9es de l'activit\u00e9 journali\u00e8re de l'utilisateur Info physique Permets d'acc\u00e9der aux informations physique de l'utilisateur (Ex: Taille/Poids) Mod\u00e8le de donn\u00e9es D\u00e9crit tous les objets qui transportent les donn\u00e9es entre le serveur et le client Annexes Contient des exemples et des d\u00e9tails sur l'interface de l'application","title":"Polar Accesslink API"},{"location":"documentation/#environnement-de-developpement","text":"Pour l'environnement de d\u00e9veloppement, j'ai utilis\u00e9 Visual Studio Code.","title":"Environnement de d\u00e9veloppement"},{"location":"documentation/#analyse-fonctionnelle","text":"","title":"Analyse fonctionnelle"},{"location":"documentation/#interface","text":"La partie r\u00e9alis\u00e9e lors du travail de semestre ne poss\u00e8de pas d'interface. Le programme r\u00e9cup\u00e8re et sauve certaines donn\u00e9es mais n'affiche rien. La partie \"Affichage\" de mon projet a \u00e9t\u00e9 r\u00e9alis\u00e9 dans le projet du cours PDA.","title":"Interface"},{"location":"documentation/#fonctionnalites","text":"","title":"Fonctionnalit\u00e9s"},{"location":"documentation/#inscription","text":"Lors de l'inscription d'un nouveau client, il remplit un formulaire, puis une fois le formulaire remplit le coach doit scanner une carte RFID. Le lecteur va lire la carte et l'ID de la carte sera attribu\u00e9 au compte client du nouvel inscrit.","title":"Inscription"},{"location":"documentation/#authentification","text":"L'application permet de s'authentifier \u00e0 l'aide du lecteur et d'une carte RFID. L'ID de la carte est enregistr\u00e9 dans la base de donn\u00e9es. Si l'authentification est r\u00e9ussite, l'utilisateur peut utiliser une montre Polar pour son entrainement. A la fin de l'entrainement, le client scanne sa carte RFID avant de partir. Si la carte est reconnue, l'application va chercher les derni\u00e8res donn\u00e9es d'entrainement disponible \u00e0 l'aide de l'API Polar AccessLink.","title":"Authentification"},{"location":"documentation/#enregistrement","text":"Lorsque des donn\u00e9es d'entrainement sont r\u00e9cup\u00e9r\u00e9s suite \u00e0 la s\u00e9ance d'un client, elles sont automatiquement enregistr\u00e9es dans la base de donn\u00e9es et reli\u00e9 directement au client concern\u00e9.","title":"Enregistrement"},{"location":"documentation/#cas-dutilisation","text":"A l'arriv\u00e9e d'un nouveau client, il doit s'inscrire via un formulaire. Une fois le formulaire renseign\u00e9, le coach doit scanner une nouvelle carte RFID \u00e0 l'aide du lecteur. La carte sera enregistr\u00e9e avec le compte du nouveau client en base de donn\u00e9es. Lorsqu'un client vient s'entrainer il doit s'authentifier \u00e0 l'entr\u00e9e \u00e0 l'aide de sa \"carte de membre\" (la carte RFID remise lors de l'inscription). Une fois entr\u00e9, le client peut se munir d'une des montres Polar misent \u00e0 disposition pour son entrainement. A la fin de son entrainement, juste avant de partir, le client badge \u00e0 la sortie avec sa carte. Si la carte est reconnue, les derni\u00e8res donn\u00e9es d'entrainements sont r\u00e9cup\u00e9r\u00e9es \u00e0 l'aide de l'API Polar. Toutes les donn\u00e9es voulues sont enregistr\u00e9es dans la base de donn\u00e9es et sont reli\u00e9s directement au client concern\u00e9.","title":"Cas d'utilisation"},{"location":"documentation/#analyse-organique","text":"","title":"Analyse organique"},{"location":"documentation/#architecture","text":"","title":"Architecture"},{"location":"documentation/#arborescence-de-fichier","text":"","title":"Arborescence de fichier"},{"location":"documentation/#documentationmd","text":"Fichier Markdown contenant la documentation technique du projet.","title":"documentation.md"},{"location":"documentation/#logbookmd","text":"Fichier Markdown contenant le r\u00e9sum\u00e9 journalier du travail effectu\u00e9.","title":"logbook.md"},{"location":"documentation/#authorizationpy","text":"Script python qui permet d'authentifier un compte Polar pour avoir acc\u00e8s \u00e0 l'API Token g\u00e9n\u00e9r\u00e9 avec l'id de l'utilisateur, on essaye ensuite de l'enregistrer avec l'API accesslink pour avoir acc\u00e8s aux donn\u00e9es","title":"authorization.py"},{"location":"documentation/#acesslinkpy","text":"Objet python qui enveloppe toutes les fonctionnalit\u00e9es de l'API Polar Pour chaque demande effectuable avec l'API (pour le retour de diff\u00e9rente donn\u00e9e) un objet a \u00e9t\u00e9 cr\u00e9\u00e9. L'objet Accesslink r\u00e9cup\u00e8re les donn\u00e9es avec tous les endpoints qui permettent les transactions avec l'API. Il g\u00e9re \u00e9galement l'authentification pour avoir acc\u00e8s \u00e0 l'API.","title":"acesslink.py"},{"location":"documentation/#endpointsdaily_activitypy","text":"Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant l'activit\u00e9e journali\u00e8re, il utilise l'objet DailyActivityTransaction pour effectuer la transaction avec l'API","title":"endpoints/daily_activity.py"},{"location":"documentation/#endpointsdaily_activity_transactionpy","text":"Objet pour l'activit\u00e9e journali\u00e8re qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es.","title":"endpoints/daily_activity_transaction.py"},{"location":"documentation/#endpointsphysical_infopy","text":"Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant les informations physiques, il utilise l'objet PhysicalInfoTransaction pour effectuer la transaction avec l'API","title":"endpoints/physical_info.py"},{"location":"documentation/#endpointsphysical_info_transactionpy","text":"Objet pour les informations physiques qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es.","title":"endpoints/physical_info_transaction.py"},{"location":"documentation/#endpointstraining_datapy","text":"Objet qui permet de r\u00e9cup\u00e9rer toutes les donn\u00e9es concernant les donn\u00e9es d'entrainements, il utilise l'objet TrainingDataTransaction pour effectuer la transaction avec l'API.","title":"endpoints/training_data.py"},{"location":"documentation/#endpointstraining_data_transactionpy","text":"Objet pour les donn\u00e9es d'entrainements qui effectue les demandes \u00e0 l'API pour r\u00e9cup\u00e9rer les donn\u00e9es souhait\u00e9es. Il peut r\u00e9cup\u00e9rer : La liste des exercices effectu\u00e9s Un r\u00e9sum\u00e9 des s\u00e9ances Les diff\u00e9rentes zones de rythme cardiaque Un r\u00e9sum\u00e9 des s\u00e9ances en format .gpx ou .tcx","title":"endpoints/training_data_transaction.py"},{"location":"documentation/#endpointspull_notifications","text":"Objet qui permet de r\u00e9cup\u00e9rer la liste des donn\u00e9es disponibles.","title":"endpoints/pull_notifications"},{"location":"documentation/#endpointstransactionspy","text":"Objet parent pour toutes les transactions qui seront effectu\u00e9es avec l'API Polar.","title":"endpoints/transactions.py"},{"location":"documentation/#endpointsresourcepy","text":"Objet parent qui permet de passer premi\u00e8rement par l'authentification OAuth avant d'effectuer des actions avec l'API.","title":"endpoints/resource.py"},{"location":"documentation/#accesslinktoolspy","text":"Objet AccesslinkTools qui regroupe toutes les fonctionnalit\u00e9s li\u00e9es \u00e0 l'API. Il utilise les endpoints cr\u00e9\u00e9 (d\u00e9crit ci-dessus) pour effectuer les transactions et r\u00e9cup\u00e9rer les donn\u00e9es.","title":"accesslinkTools.py"},{"location":"documentation/#readpy","text":"Script python qui permet de lire les donn\u00e9es sur une carte RFID. Il compare l'ID de la carte scann\u00e9e avec celles enregistr\u00e9s en base, si la carte est reconnue l'utilisateur \u00e0 acc\u00e8s aux fonctionnalit\u00e9es de l'API Polar. Attente d'une carte, une fois d\u00e9t\u00e9ct\u00e9e, la connexion est \u00e9tablie : Requ\u00eate SQL pour v\u00e9rifier si l'ID de la carte d\u00e9t\u00e9ct\u00e9e existe dans la base de donn\u00e9es, si oui l'utilisateur \u00e0 acc\u00e8s aux fonctionnalit\u00e9es Polar :","title":"read.py"},{"location":"documentation/#configyml","text":"Fichier YAML contenant la configuration du client pour avoir acc\u00e8s aux donn\u00e9es avec l'API Polar. Il Contient : L'id de l'utilisateur L'id du client (Pour l'acc\u00e8s) Le secret du client Le token d'acc\u00e8s (Il est g\u00e9n\u00e9r\u00e9 avec le fichier authorization.py)","title":"config.yml"},{"location":"documentation/#requirementstxt","text":"Fichier contenant toutes les librairies/modules n\u00e9cessaires pour le lancement de l'application. Pour l'utilisation : pip install -r requirements.txt","title":"requirements.txt"},{"location":"documentation/#mkdocsyml","text":"Fichier YAML contenant la configuration pour Mkdocs.","title":"mkdocs.yml"},{"location":"documentation/#conclusion","text":"","title":"Conclusion"},{"location":"documentation/#ameliorations-possibles","text":"Dans le cadre du travail de semestre, j'ai totalement dissoci\u00e9 la partie donn\u00e9e avec l'utilisation de l'API Polar et du lecteur RFID de l'interface graphique. L'interface graphique permet de relier tous les diff\u00e9rents scripts que j'ai fait pour en faire une application fonctionnelle. La partie interface a \u00e9t\u00e9 faite dans le cadre du cours PDA, il faudrait donc mettre ces 2 parties ensembles. Une autre am\u00e9lioration \u00e0 explorer serait d'ouvrir l'application \u00e0 tous les types de montres connect\u00e9s. Pour le moment uniquement les montres Polar sont accept\u00e9es (\u00e0 cause de l'utilisation de l'API Polar). Il faudrait \u00e9galement regarder pour avoir la possibilit\u00e9 d'utiliser la montre du client et pas une montre mise \u00e0 disposition par le coach comme c'est le cas pour l'instant.","title":"Am\u00e9liorations possibles"},{"location":"documentation/#bilan-personnel","text":"Ce projet a \u00e9t\u00e9 tr\u00e8s b\u00e9n\u00e9fique pour moi, je n'avais encore jamais utilis\u00e9 l'API Polar ou encore un lecteur NFC et j'ai maintenant \u00e0 disposition pas mal d'objet Python que je peux directement r\u00e9utiliser. J'ai rencontr\u00e9 pas mal de probl\u00e8me et \u00e7a m'a permis de pr\u00e9parer pas mal de point pour mon travail de dipl\u00f4me. J'ai trouv\u00e9 tr\u00e8s int\u00e9ressant de travailler sur ces points car ils sont essentiels pour mon travail de dipl\u00f4me et j'esp\u00e8re vraiment pouvoir avoir quelque chose de fonctionnel \u00e0 la fin.","title":"Bilan personnel"},{"location":"logbook/","text":"Logbook Jeudi 09 D\u00e9cembre 2021 Je d\u00e9cide de tester un exemple d'utilisation de l'API Accesslink de Polar en python, le script n'arrive pas a se lancer avec une erreur dans le loader du fichier de config yaml. Il y avait juste un probl\u00e8me avec la version de Pyyaml, certaine installation change sa version et elle n'\u00e9tait plus bonne pour le script, j'ai r\u00e9install\u00e9 pyyaml avec la version 5.4 pip install pyyaml == 5.4.1 Apr\u00e8s une discussion avec M.Aigroz sur mon sujet, nous avons parler de l'import des fichiers excel (Les programmes que les coachs pourront upload), les donn\u00e9es seront converties en json pour \u00eatre plus facilement traitable ensuite. Excel to json Jeudi 16 D\u00e9cembre 2021 L'API Polar \u00e9tant un des \u00e9l\u00e9ments les plus importants pour mon application, j'aimerai essayer de faire en sorte d'avoir une application en python capable d'afficher les infos de l'utilisateur Polar lorsque le lecteur RFID scan la carte de l'utilisateur. J'ai amen\u00e9 une montre Polar M400 de chez moi pour pouvoir avoir plusieurs montre pour tester l'API. Je vais prendre les 2 montres et enregistrer des donn\u00e9es d'entrainement pendant les vacances. L'id\u00e9e pour mon travail de dipl\u00f4me est d'avoir 1 seul compte Polar (Le compte de l'admin de la salle de sport) qui serait connect\u00e9 \u00e0 plusieurs montres dans la salle. Lorsqu'un client arrive et badge sa carte de membre (carte RFID), une montre lui est assign\u00e9 pour la session d'entrainement (elle prend fin lorsque le client badge sa sortie). Jeudi 23 D\u00e9cembre 2021 J'ai repris le projet \"CrowMagic\" auquel j'ai particip\u00e9 l'ann\u00e9e pass\u00e9e dans le cadre des ateliers d\u00e9cloisonn\u00e9s. Le projet utilisait les cartes RFID et je voulais reprendre un peu l'utilisation des cartes pour mon projet. J'ai install\u00e9 VNC Viewer pour utiliser le CrowPi directement sur mon PC. Chaque carte RFID poss\u00e8de un id, dans un json je d\u00e9finis les valeurs dont j'ai besoin qui sont associ\u00e9es \u00e0 l'id de la carte. Probl\u00e8me avec l'import de RPi.GPIO, je vais regarder l'install ou si c'est un probl\u00e8me de version. Jeudi 13 Janvier 2021 La malette CrowPi ne fonctionne plus, je pense que jeudi dernier avant les vacances quelqu'un a du debranch\u00e9 la malette. J'ai prit la deuxi\u00e8me malette et j'ai reconfigur\u00e9 VNC pour pouvoir avoir acc\u00e8s. Je cr\u00e9er un Trello pour g\u00e9rer la roadmap du projet. J'ai commenc\u00e9 \u00e0 remplir les backlogs et j'ai d\u00e9fini un niveau d'importance pour les t\u00e2ches. Bug avec vscode sur le CrowPi, vscode n'arrive pas \u00e0 se lancer comme il faut (Affichage). J'ai commenc\u00e9 \u00e0 cr\u00e9er un fichier json contenant les donn\u00e9es des cartes RFID et le programme pour lire les infos des cartes. Lorsque le probl\u00e8me avec vscode sera r\u00e9gl\u00e9 je pourrai tester le programme. L'apr\u00e8s-midi M.Garcia m'a pr\u00eat\u00e9 un lecteur NFC , je vais essayer de le tester d'ici jeudi prochain pour essayer de remplacer la malette CrowPi. Jeudi 20 Janvier 2022 Je me suis document\u00e9 sur le lecteur NFC ACR122U afin de l'utiliser avec les cartes RFID, j'ai d\u00e9couvert la librairie python pyscard qui permet d'utiliser les lecteurs NFC. A l'aide de la documentation j'ai pu faire un petit programme qui lit la carte scann\u00e9e et affiche son UID. Malheureusement, pour l'utilisation de cette libraire fonctionne sur le fait qu'une connexion doit \u00eatre \u00e9tablie avec une carte donc si aucune carte n'est plac\u00e9e \u00e0 l'avance sur le lecteur le programme crashera car il n'aura aucune carte pour cr\u00e9er la connexion. Une fonctionnalit\u00e9 permet de mettre un timeout et d'attendre qu'une carte soit scann\u00e9e mais un nombre de seconde doit \u00eatre d\u00e9fini avant que le programme ne se ferme. Sachant qu'un nombre de seconde d'attente doit \u00eatre d\u00e9fini, je ne pense pas que cette approche conviendrait pour mon projet. Je d\u00e9cide donc de repartir sur la malette CrowPi et de r\u00e9installer une version plus r\u00e9cente de raspberryOS. Jeudi 27 Janvier 2022 J'ai discuter un peu avec M.Aigroz par rapport \u00e0 mon probl\u00e8me avec le lecteur NFC et la connexion avec la carte. Je revois donc toute la documentation et je finis par trouver un moyen de faire fonctionner le lecteur. J'ai r\u00e9ussi \u00e0 avoir un fichier json contenant les ids des cartes RFID et j'utilise le lecteur pour compar\u00e9 les ids des cartes scann\u00e9es avec les ids stock\u00e9es dans le json. Il faudrait maintenant que j'arrive \u00e0 int\u00e9grer un appel \u00e0 l'API Polar lorsque je scanne la carte. Depuis les vacances, j'ai eu le temps d'ajouter des donn\u00e9es d'entrainements sur les montres Polar que j'avais \u00e0 disposition. Maintenant le probl\u00e8me avec le lecteur NFC r\u00e9gl\u00e9 je vais commencer la partie sur l'API Polar et la r\u00e9cup\u00e9ration des donn\u00e9es. Jeudi 03 F\u00e9vrier 2022 J'ai avanc\u00e9 sur la documentation, j'ai ajouter la description du lecteur, la librairie pyscard ainsi que l'API Polar. J'ai commenc\u00e9 \u00e0 regarder le fonctionnement de l'API pour essayer de r\u00e9cup\u00e9rer les donn\u00e9es d'entrainements quand la carte RFID est scann\u00e9e. Il me semble que lorsqu'on r\u00e9cup\u00e8re les donn\u00e9es d'entrainements avec l'API on r\u00e9cup\u00e8re toutes les donn\u00e9es du compte, il faut que je regarde si il est pas possible de r\u00e9cup\u00e9rer seulement les derni\u00e8res donn\u00e9es. Rappel : L'authentification pour l'API Polar n'est pas pareil que l'authentification avec les cartes RFID. Il y a 1 compte Polar (celui du coach) qui est reli\u00e9 \u00e0 plusieurs montres et l'authentification des cartes RFID (client) en est une totalement s\u00e9par\u00e9e. Jeudi 10 F\u00e9vrier 2022 Nous avons r\u00e9alis\u00e9 une pr\u00e9sentation interm\u00e9diaire pour montrer l'avancement de nos projets. Suite \u00e0 cette pr\u00e9sentation, je r\u00e9alise que jusque l\u00e0 je n'ai fait que de la recherche ou quelques essais mais je n'ai pas encore de POC concr\u00e8t. Jeudi 24 F\u00e9vrier 2022 En m'aidant de la doc Polar, je vais cr\u00e9er un objet qui me permettra de r\u00e9cup\u00e9rer les datas. J'ajouterai ensuite l'objet au programme qui me permet de v\u00e9rifier les cartes RFID pour r\u00e9cup\u00e9rer les donn\u00e9es lorsqu'on s'identifie avec la carte RFID. Je vais \u00e9galement cr\u00e9er une base de donn\u00e9es pour enregistrer quelques donn\u00e9es. Jeudi 3 Mars 2022 Malade (Covid-19) Jeudi 10 Mars 2022 Le rendu du projet est fix\u00e9 \u00e0 la semaine prochaine. J'ai fait l'update du firmware de la montre Polar. En essayant de lancer le programme chez moi, je me rends compte que je n'avais pas prit en compte quelques \"requirements\" pour pouvoir utiliser la librairie pyscard . Pour pouvoir installer pyscard, il faut pr\u00e9alablement installer Swig et l'ajouter dans le PATH (Variables d'envirronements). Swig \u00e9tant un outil qui permet de connecter des librairies \u00e9crites en C ou en C++ \u00e0 d'autres langages comme le Python Jeudi 17 Mars 2022 Dernier jour pour ce deuxi\u00e8me travail de semestre, j'effectue les derniers ajustements sur la documentation technique. Ce travail de semestre a \u00e9t\u00e9 bien plus utile que le premier car j'ai r\u00e9ussi \u00e0 pr\u00e9parer plusieurs classes Python que je pourrai r\u00e9utiliser lors de mon travail de dipl\u00f4me. En travaillant l\u00e0-dessus, je suis parvenu a \u00e9claircir la plupart des points d'inqui\u00e9tude que j'avais en vue du travail de dipl\u00f4me.","title":"Logbook"},{"location":"logbook/#logbook","text":"","title":"Logbook"},{"location":"logbook/#jeudi-09-decembre-2021","text":"Je d\u00e9cide de tester un exemple d'utilisation de l'API Accesslink de Polar en python, le script n'arrive pas a se lancer avec une erreur dans le loader du fichier de config yaml. Il y avait juste un probl\u00e8me avec la version de Pyyaml, certaine installation change sa version et elle n'\u00e9tait plus bonne pour le script, j'ai r\u00e9install\u00e9 pyyaml avec la version 5.4 pip install pyyaml == 5.4.1 Apr\u00e8s une discussion avec M.Aigroz sur mon sujet, nous avons parler de l'import des fichiers excel (Les programmes que les coachs pourront upload), les donn\u00e9es seront converties en json pour \u00eatre plus facilement traitable ensuite. Excel to json","title":"Jeudi 09 D\u00e9cembre 2021"},{"location":"logbook/#jeudi-16-decembre-2021","text":"L'API Polar \u00e9tant un des \u00e9l\u00e9ments les plus importants pour mon application, j'aimerai essayer de faire en sorte d'avoir une application en python capable d'afficher les infos de l'utilisateur Polar lorsque le lecteur RFID scan la carte de l'utilisateur. J'ai amen\u00e9 une montre Polar M400 de chez moi pour pouvoir avoir plusieurs montre pour tester l'API. Je vais prendre les 2 montres et enregistrer des donn\u00e9es d'entrainement pendant les vacances. L'id\u00e9e pour mon travail de dipl\u00f4me est d'avoir 1 seul compte Polar (Le compte de l'admin de la salle de sport) qui serait connect\u00e9 \u00e0 plusieurs montres dans la salle. Lorsqu'un client arrive et badge sa carte de membre (carte RFID), une montre lui est assign\u00e9 pour la session d'entrainement (elle prend fin lorsque le client badge sa sortie).","title":"Jeudi 16 D\u00e9cembre 2021"},{"location":"logbook/#jeudi-23-decembre-2021","text":"J'ai repris le projet \"CrowMagic\" auquel j'ai particip\u00e9 l'ann\u00e9e pass\u00e9e dans le cadre des ateliers d\u00e9cloisonn\u00e9s. Le projet utilisait les cartes RFID et je voulais reprendre un peu l'utilisation des cartes pour mon projet. J'ai install\u00e9 VNC Viewer pour utiliser le CrowPi directement sur mon PC. Chaque carte RFID poss\u00e8de un id, dans un json je d\u00e9finis les valeurs dont j'ai besoin qui sont associ\u00e9es \u00e0 l'id de la carte. Probl\u00e8me avec l'import de RPi.GPIO, je vais regarder l'install ou si c'est un probl\u00e8me de version.","title":"Jeudi 23 D\u00e9cembre 2021"},{"location":"logbook/#jeudi-13-janvier-2021","text":"La malette CrowPi ne fonctionne plus, je pense que jeudi dernier avant les vacances quelqu'un a du debranch\u00e9 la malette. J'ai prit la deuxi\u00e8me malette et j'ai reconfigur\u00e9 VNC pour pouvoir avoir acc\u00e8s. Je cr\u00e9er un Trello pour g\u00e9rer la roadmap du projet. J'ai commenc\u00e9 \u00e0 remplir les backlogs et j'ai d\u00e9fini un niveau d'importance pour les t\u00e2ches. Bug avec vscode sur le CrowPi, vscode n'arrive pas \u00e0 se lancer comme il faut (Affichage). J'ai commenc\u00e9 \u00e0 cr\u00e9er un fichier json contenant les donn\u00e9es des cartes RFID et le programme pour lire les infos des cartes. Lorsque le probl\u00e8me avec vscode sera r\u00e9gl\u00e9 je pourrai tester le programme. L'apr\u00e8s-midi M.Garcia m'a pr\u00eat\u00e9 un lecteur NFC , je vais essayer de le tester d'ici jeudi prochain pour essayer de remplacer la malette CrowPi.","title":"Jeudi 13 Janvier 2021"},{"location":"logbook/#jeudi-20-janvier-2022","text":"Je me suis document\u00e9 sur le lecteur NFC ACR122U afin de l'utiliser avec les cartes RFID, j'ai d\u00e9couvert la librairie python pyscard qui permet d'utiliser les lecteurs NFC. A l'aide de la documentation j'ai pu faire un petit programme qui lit la carte scann\u00e9e et affiche son UID. Malheureusement, pour l'utilisation de cette libraire fonctionne sur le fait qu'une connexion doit \u00eatre \u00e9tablie avec une carte donc si aucune carte n'est plac\u00e9e \u00e0 l'avance sur le lecteur le programme crashera car il n'aura aucune carte pour cr\u00e9er la connexion. Une fonctionnalit\u00e9 permet de mettre un timeout et d'attendre qu'une carte soit scann\u00e9e mais un nombre de seconde doit \u00eatre d\u00e9fini avant que le programme ne se ferme. Sachant qu'un nombre de seconde d'attente doit \u00eatre d\u00e9fini, je ne pense pas que cette approche conviendrait pour mon projet. Je d\u00e9cide donc de repartir sur la malette CrowPi et de r\u00e9installer une version plus r\u00e9cente de raspberryOS.","title":"Jeudi 20 Janvier 2022"},{"location":"logbook/#jeudi-27-janvier-2022","text":"J'ai discuter un peu avec M.Aigroz par rapport \u00e0 mon probl\u00e8me avec le lecteur NFC et la connexion avec la carte. Je revois donc toute la documentation et je finis par trouver un moyen de faire fonctionner le lecteur. J'ai r\u00e9ussi \u00e0 avoir un fichier json contenant les ids des cartes RFID et j'utilise le lecteur pour compar\u00e9 les ids des cartes scann\u00e9es avec les ids stock\u00e9es dans le json. Il faudrait maintenant que j'arrive \u00e0 int\u00e9grer un appel \u00e0 l'API Polar lorsque je scanne la carte. Depuis les vacances, j'ai eu le temps d'ajouter des donn\u00e9es d'entrainements sur les montres Polar que j'avais \u00e0 disposition. Maintenant le probl\u00e8me avec le lecteur NFC r\u00e9gl\u00e9 je vais commencer la partie sur l'API Polar et la r\u00e9cup\u00e9ration des donn\u00e9es.","title":"Jeudi 27 Janvier 2022"},{"location":"logbook/#jeudi-03-fevrier-2022","text":"J'ai avanc\u00e9 sur la documentation, j'ai ajouter la description du lecteur, la librairie pyscard ainsi que l'API Polar. J'ai commenc\u00e9 \u00e0 regarder le fonctionnement de l'API pour essayer de r\u00e9cup\u00e9rer les donn\u00e9es d'entrainements quand la carte RFID est scann\u00e9e. Il me semble que lorsqu'on r\u00e9cup\u00e8re les donn\u00e9es d'entrainements avec l'API on r\u00e9cup\u00e8re toutes les donn\u00e9es du compte, il faut que je regarde si il est pas possible de r\u00e9cup\u00e9rer seulement les derni\u00e8res donn\u00e9es. Rappel : L'authentification pour l'API Polar n'est pas pareil que l'authentification avec les cartes RFID. Il y a 1 compte Polar (celui du coach) qui est reli\u00e9 \u00e0 plusieurs montres et l'authentification des cartes RFID (client) en est une totalement s\u00e9par\u00e9e.","title":"Jeudi 03 F\u00e9vrier 2022"},{"location":"logbook/#jeudi-10-fevrier-2022","text":"Nous avons r\u00e9alis\u00e9 une pr\u00e9sentation interm\u00e9diaire pour montrer l'avancement de nos projets. Suite \u00e0 cette pr\u00e9sentation, je r\u00e9alise que jusque l\u00e0 je n'ai fait que de la recherche ou quelques essais mais je n'ai pas encore de POC concr\u00e8t.","title":"Jeudi 10 F\u00e9vrier 2022"},{"location":"logbook/#jeudi-24-fevrier-2022","text":"En m'aidant de la doc Polar, je vais cr\u00e9er un objet qui me permettra de r\u00e9cup\u00e9rer les datas. J'ajouterai ensuite l'objet au programme qui me permet de v\u00e9rifier les cartes RFID pour r\u00e9cup\u00e9rer les donn\u00e9es lorsqu'on s'identifie avec la carte RFID. Je vais \u00e9galement cr\u00e9er une base de donn\u00e9es pour enregistrer quelques donn\u00e9es.","title":"Jeudi 24 F\u00e9vrier 2022"},{"location":"logbook/#jeudi-3-mars-2022","text":"Malade (Covid-19)","title":"Jeudi 3 Mars 2022"},{"location":"logbook/#jeudi-10-mars-2022","text":"Le rendu du projet est fix\u00e9 \u00e0 la semaine prochaine. J'ai fait l'update du firmware de la montre Polar. En essayant de lancer le programme chez moi, je me rends compte que je n'avais pas prit en compte quelques \"requirements\" pour pouvoir utiliser la librairie pyscard . Pour pouvoir installer pyscard, il faut pr\u00e9alablement installer Swig et l'ajouter dans le PATH (Variables d'envirronements). Swig \u00e9tant un outil qui permet de connecter des librairies \u00e9crites en C ou en C++ \u00e0 d'autres langages comme le Python","title":"Jeudi 10 Mars 2022"},{"location":"logbook/#jeudi-17-mars-2022","text":"Dernier jour pour ce deuxi\u00e8me travail de semestre, j'effectue les derniers ajustements sur la documentation technique. Ce travail de semestre a \u00e9t\u00e9 bien plus utile que le premier car j'ai r\u00e9ussi \u00e0 pr\u00e9parer plusieurs classes Python que je pourrai r\u00e9utiliser lors de mon travail de dipl\u00f4me. En travaillant l\u00e0-dessus, je suis parvenu a \u00e9claircir la plupart des points d'inqui\u00e9tude que j'avais en vue du travail de dipl\u00f4me.","title":"Jeudi 17 Mars 2022"}]}